# è‰ç¨¿ç”Ÿæˆé¡µé¢ - å®æ—¶ç¼–è¾‘ä¸ LLM å»ºè®®ç³»ç»Ÿ

## ğŸ“‹ æ›´æ–°æ¦‚è§ˆ

æ ¹æ®å‚è€ƒä»£ç å›¾ç‰‡ï¼Œå®Œå…¨é‡å†™äº†è‰ç¨¿ç”Ÿæˆé¡µé¢ï¼Œå®ç°äº†å®æ—¶ç¼–è¾‘å’Œ LLM æ™ºèƒ½å»ºè®®ç³»ç»Ÿã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### 1. å®æ—¶æ®µè½ç¼–è¾‘
- **ç‹¬ç«‹å¯ç¼–è¾‘æ®µè½**: æ¯ä¸ªæ®µè½éƒ½æ˜¯ç‹¬ç«‹çš„ contentEditable åŒºåŸŸ
- **å³æ—¶ä¿å­˜**: ç¼–è¾‘å®Œæˆï¼ˆblurï¼‰æ—¶è‡ªåŠ¨ä¿å­˜å†…å®¹
- **è§†è§‰åé¦ˆ**: 
  - æ¿€æ´»çŠ¶æ€: `ring-2 ring-primary` è“è‰²è¾¹æ¡†é«˜äº®
  - æ‚¬åœçŠ¶æ€: `hover:bg-muted/50` æµ…è‰²èƒŒæ™¯
  - è¿‡æ¸¡åŠ¨ç”»: `transition-all duration-200` å¹³æ»‘è¿‡æ¸¡
- **åˆ é™¤åŠŸèƒ½**: æ‚¬åœæ—¶æ˜¾ç¤ºåˆ é™¤æŒ‰é’®

### 2. LLM æ™ºèƒ½å»ºè®®ç³»ç»Ÿ
- **è‡ªåŠ¨è§¦å‘**: ç¼–è¾‘æ®µè½åè‡ªåŠ¨è¯·æ±‚ LLM å»ºè®®
- **åŠ è½½çŠ¶æ€**: æ˜¾ç¤ºæ—‹è½¬åŠ è½½å›¾æ ‡
- **ä¸‰ç§å»ºè®®ç±»å‹**:
  - **é€»è¾‘å»ºè®® (LOGIC)**: åˆ†ææ®µè½ç»“æ„å’Œè®ºè¯é€»è¾‘
  - **è¡¨è¾¾ä¼˜åŒ– (STYLE)**: æä¾›è¯­è¨€è¡¨è¾¾æ”¹è¿›å»ºè®®
  - **å†…å®¹å»ºè®® (CONTENT)**: æ¨èè¡¥å……ä¿¡æ¯å’Œæ¡ˆä¾‹
- **å»ºè®®å¡ç‰‡**: 
  - å½©è‰²å·¦è¾¹æ¡†æ ‡è¯†ç±»å‹ï¼ˆè“è‰²/ç¥ç€è‰²/ç»¿è‰²ï¼‰
  - Material Symbols å›¾æ ‡
  - åº”ç”¨/å¿½ç•¥æ“ä½œæŒ‰é’®

### 3. æ®µè½ç®¡ç†
- **æ·»åŠ æ®µè½**: åº•éƒ¨"æ·»åŠ æ®µè½"æŒ‰é’®
- **åˆ é™¤æ®µè½**: æ¯ä¸ªæ®µè½çš„åˆ é™¤æŒ‰é’®ï¼ˆæ‚¬åœæ˜¾ç¤ºï¼‰
- **è‡ªåŠ¨ç¼–å·**: p1, p2, p3... è‡ªåŠ¨ç”Ÿæˆ ID

### 4. å¼•ç”¨ç³»ç»Ÿ
- **æ•°å­—æ ‡è®°**: [1], [2] ä¸Šæ ‡æ ¼å¼
- **ç‚¹å‡»å¼¹çª—**: æ˜¾ç¤ºå®Œæ•´å¼•ç”¨ä¿¡æ¯
  - æ ‡é¢˜
  - æ¥æº
  - æ‘˜è¦
  - å¼•ç”¨å†…å®¹
  - åŸæ–‡é“¾æ¥

### 5. åä½œæ•™ç»ƒé¢æ¿
- **æ¡ä»¶æ˜¾ç¤º**: ä»…æ˜¾ç¤ºå½“å‰æ¿€æ´»æ®µè½çš„å»ºè®®
- **ç©ºçŠ¶æ€**: æœªé€‰æ‹©æ®µè½æ—¶æ˜¾ç¤ºæç¤º
- **åŠ è½½çŠ¶æ€**: ç”Ÿæˆå»ºè®®æ—¶æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
- **å»ºè®®å¡ç‰‡**: å¯åº”ç”¨æˆ–å¿½ç•¥çš„å»ºè®®

### 6. èŠå¤©ç•Œé¢
- **ä½ç½®**: å³ä¾§é¢æ¿åº•éƒ¨
- **åŠŸèƒ½**: ä¸ AI å¯¹è¯ï¼Œè¯·æ±‚ä¿®æ”¹
- **å¿«æ·æŒ‰é’®**: é¢„è®¾å¸¸ç”¨æ“ä½œ

### 7. æ—¥å¿—ç³»ç»Ÿ
- **å¯å±•å¼€é¢æ¿**: ç‚¹å‡»åˆ‡æ¢æ˜¾ç¤º/éšè—
- **æ—¶é—´æˆ³**: æ¯æ¡æ—¥å¿—è®°å½•æ—¶é—´
- **ç±»å‹æ ‡è¯†**: ä¿¡æ¯/æˆåŠŸ/é”™è¯¯
- **åºå·æ ‡è®°**: ä¾¿äºè¿½è¸ª
- **åŠ¨ç”»æ•ˆæœ**: ç”Ÿæˆæ—¶è„‰åŠ¨åŠ¨ç”»

## ğŸ¨ è®¾è®¡æ¨¡å¼ï¼ˆå‚è€ƒä»£ç ï¼‰

### Material Symbols å›¾æ ‡
```html
<span class="material-symbols-outlined">psychology</span>
<span class="material-symbols-outlined">settings</span>
<span class="material-symbols-outlined">smart_toy</span>
```

### å†…è”ç¼–è¾‘æ ·å¼
```css
.editable-paragraph {
  cursor-text;
  transition-all duration-200;
  hover:bg-muted/50;
  focus:outline-none;
}
```

### ç›¸å¯¹å®šä½å¸ƒå±€
```tsx
<div className="relative group">
  <div contentEditable>...</div>
  <Button className="absolute top-2 right-2 opacity-0 group-hover:opacity-100">
    åˆ é™¤
  </Button>
</div>
```

### åŠ¨ç”»æ•ˆæœ
```tsx
<Loader2 className="animate-spin" />
<div className="animate-pulse" />
<div className="animate-bounce" />
```

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### æ•°æ®ç»“æ„

#### Paragraph æ¥å£
```typescript
interface Paragraph {
  id: string;                          // æ®µè½ ID (p1, p2, p3...)
  content: string;                     // HTML å†…å®¹
  suggestions?: ParagraphSuggestion[]; // å»ºè®®åˆ—è¡¨
  isEditing?: boolean;                 // æ˜¯å¦æ­£åœ¨ç¼–è¾‘
  isLoadingSuggestion?: boolean;       // æ˜¯å¦æ­£åœ¨åŠ è½½å»ºè®®
}
```

#### ParagraphSuggestion æ¥å£
```typescript
interface ParagraphSuggestion {
  id: string;                          // å»ºè®® ID
  type: 'logic' | 'style' | 'content'; // å»ºè®®ç±»å‹
  title: string;                       // å»ºè®®æ ‡é¢˜
  description: string;                 // å»ºè®®æè¿°
  suggestion: string;                  // å…·ä½“å»ºè®®å†…å®¹
}
```

### çŠ¶æ€ç®¡ç†

```typescript
const [paragraphs, setParagraphs] = useState<Paragraph[]>([]);
const [activeParagraphId, setActiveParagraphId] = useState<string | null>(null);
const [citations, setCitations] = useState<Citation[]>([]);
const [logMessages, setLogMessages] = useState<Array<{
  time: string;
  message: string;
  type?: 'info' | 'success' | 'error';
}>>([]);
```

### æ ¸å¿ƒå‡½æ•°

#### 1. æ®µè½ç¼–è¾‘å®Œæˆå¤„ç†
```typescript
const handleParagraphBlur = async (paragraphId: string, newContent: string) => {
  // 1. æ›´æ–°æ®µè½å†…å®¹
  setParagraphs(prev => prev.map(p => 
    p.id === paragraphId ? { ...p, content: newContent, isEditing: false } : p
  ));

  // 2. æ£€æŸ¥å†…å®¹æ˜¯å¦æ”¹å˜
  const originalParagraph = paragraphs.find(p => p.id === paragraphId);
  if (!newContent.trim() || newContent === originalParagraph?.content) {
    return;
  }

  // 3. æ˜¾ç¤ºåŠ è½½çŠ¶æ€
  setParagraphs(prev => prev.map(p => 
    p.id === paragraphId ? { ...p, isLoadingSuggestion: true } : p
  ));

  // 4. è°ƒç”¨ LLM API
  try {
    const { data, error } = await supabase.functions.invoke('paragraph-suggestion', {
      body: {
        paragraph_id: paragraphId,
        content: newContent,
        context: { title, all_paragraphs, citations },
      },
    });

    if (error) throw error;

    // 5. æ›´æ–°å»ºè®®
    setParagraphs(prev => prev.map(p => 
      p.id === paragraphId 
        ? { ...p, suggestions: data.suggestions, isLoadingSuggestion: false } 
        : p
    ));
    
    setActiveParagraphId(paragraphId);
  } catch (error) {
    // 6. ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ä½œä¸ºåå¤‡
    const mockSuggestions = getMockSuggestions(paragraphId);
    setParagraphs(prev => prev.map(p => 
      p.id === paragraphId ? { ...p, suggestions: mockSuggestions } : p
    ));
  }
};
```

#### 2. è·å–æ¨¡æ‹Ÿå»ºè®®
```typescript
const getMockSuggestions = (paragraphId: string): ParagraphSuggestion[] => {
  return [
    {
      id: `${paragraphId}-logic`,
      type: 'logic',
      title: 'æ®µè½é€»è¾‘ (LOGIC)',
      description: 'è¯¥æ®µè½é‡‡ç”¨"ç°çŠ¶-æŒ‘æˆ˜-è§£å†³æ–¹æ¡ˆ"çš„è®ºè¯ç»“æ„...',
      suggestion: 'å»ºè®®åœ¨æ®µè½æœ«å°¾å¢åŠ è¿‡æ¸¡å¥ï¼Œæ›´å¥½åœ°è¡”æ¥ä¸‹ä¸€æ®µå†…å®¹ã€‚',
    },
    {
      id: `${paragraphId}-style`,
      type: 'style',
      title: 'è¡¨è¾¾ä¼˜åŒ– (STYLE)',
      description: 'è¯­è¨€è¡¨è¾¾ä¸“ä¸šä½†ç•¥æ˜¾ç”Ÿç¡¬...',
      suggestion: 'å»ºè®®å°†"å·²æ— æ³•æ»¡è¶³"æ”¹ä¸º"éš¾ä»¥æœ‰æ•ˆåº”å¯¹"...',
    },
    {
      id: `${paragraphId}-content`,
      type: 'content',
      title: 'å†…å®¹å»ºè®® (CONTENT)',
      description: 'å¯ä»¥è¡¥å……å…·ä½“çš„è¡Œä¸šæ•°æ®æˆ–æ¡ˆä¾‹...',
      suggestion: 'å»ºè®®æ·»åŠ å…·ä½“çš„æ•°å­—åŒ–è½¬å‹æ¡ˆä¾‹...',
    },
  ];
};
```

## ğŸ¯ ç»„ä»¶è®¾è®¡

### EditableParagraph ç»„ä»¶

```typescript
interface EditableParagraphProps {
  paragraph: Paragraph;
  isActive: boolean;
  onBlur: (id: string, content: string) => void;
  onFocus: () => void;
  onDelete: (id: string) => void;
  onCitationClick: (citationId: string) => void;
}

function EditableParagraph({ 
  paragraph, 
  isActive, 
  onBlur, 
  onFocus, 
  onDelete,
  onCitationClick 
}: EditableParagraphProps) {
  const [content, setContent] = useState(paragraph.content);
  const contentRef = useRef<HTMLDivElement>(null);

  const handleBlur = () => {
    const newContent = contentRef.current?.innerHTML || '';
    onBlur(paragraph.id, newContent);
  };

  const handleClick = (e: React.MouseEvent) => {
    const target = e.target as HTMLElement;
    const marker = target.closest('.citation-marker') as HTMLElement;
    
    if (marker) {
      e.preventDefault();
      e.stopPropagation();
      const citationId = marker.getAttribute('data-citation-id');
      if (citationId) {
        onCitationClick(citationId);
      }
    }
  };

  return (
    <div className={`relative group ${isActive ? 'ring-2 ring-primary rounded-lg' : ''}`}>
      <div
        ref={contentRef}
        contentEditable={true}
        suppressContentEditableWarning={true}
        onBlur={handleBlur}
        onFocus={onFocus}
        onClick={handleClick}
        className={`
          min-h-[60px] p-4 rounded-lg
          text-base leading-relaxed text-gray-900
          cursor-text transition-all duration-200
          ${isActive ? 'bg-primary/5' : 'hover:bg-muted/50'}
          focus:outline-none
        `}
        dangerouslySetInnerHTML={{ __html: content }}
      />
      
      <Button
        variant="ghost"
        size="sm"
        onClick={() => onDelete(paragraph.id)}
        className="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity h-6 w-6 p-0"
      >
        <X className="h-3 w-3" />
      </Button>

      {paragraph.isLoadingSuggestion && (
        <div className="absolute -right-8 top-1/2 -translate-y-1/2">
          <Loader2 className="h-4 w-4 animate-spin text-primary" />
        </div>
      )}
    </div>
  );
}
```

### SuggestionCard ç»„ä»¶

```typescript
interface SuggestionCardProps {
  suggestion: ParagraphSuggestion;
  paragraphId: string;
  onApply: (paragraphId: string, suggestionId: string) => void;
  onDismiss: (paragraphId: string, suggestionId: string) => void;
}

function SuggestionCard({ suggestion, paragraphId, onApply, onDismiss }: SuggestionCardProps) {
  const getIcon = () => {
    switch (suggestion.type) {
      case 'logic':
        return <span className="material-symbols-outlined text-base text-blue-600">psychology</span>;
      case 'style':
        return <span className="material-symbols-outlined text-base text-amber-600">settings</span>;
      case 'content':
        return <Lightbulb className="h-4 w-4 text-green-600" />;
    }
  };

  const getBorderColor = () => {
    switch (suggestion.type) {
      case 'logic': return 'border-l-blue-500';
      case 'style': return 'border-l-amber-500';
      case 'content': return 'border-l-green-500';
    }
  };

  return (
    <Card className={`border-l-4 ${getBorderColor()}`}>
      <CardContent className="p-4">
        <div className="flex items-start justify-between mb-3">
          <div className="flex items-center gap-2">
            {getIcon()}
            <h3 className="text-sm font-medium">{suggestion.title}</h3>
          </div>
          <Button
            variant="ghost"
            size="sm"
            onClick={() => onDismiss(paragraphId, suggestion.id)}
            className="h-6 w-6 p-0"
          >
            <X className="h-3 w-3" />
          </Button>
        </div>
        
        <p className="text-sm text-muted-foreground leading-relaxed mb-3">
          {suggestion.description}
        </p>
        
        <div className="bg-muted/50 p-3 rounded-lg mb-3">
          <p className="text-sm leading-relaxed">
            {suggestion.suggestion}
          </p>
        </div>

        <Button
          size="sm"
          onClick={() => onApply(paragraphId, suggestion.id)}
          className="w-full"
        >
          <Check className="h-3 w-3 mr-2" />
          åº”ç”¨å»ºè®®
        </Button>
      </CardContent>
    </Card>
  );
}
```

## ğŸ¨ æ ·å¼ç³»ç»Ÿ

### Citation Marker æ ·å¼
```css
.citation-marker {
  @apply text-primary cursor-pointer font-medium hover:text-primary/80 transition-colors;
  font-size: 0.75em;
  vertical-align: super;
  line-height: 0;
}
```

### Material Symbols æ ·å¼
```css
.material-symbols-outlined {
  font-family: 'Material Symbols Outlined';
  font-weight: normal;
  font-style: normal;
  font-size: 24px;
  line-height: 1;
  letter-spacing: normal;
  text-transform: none;
  display: inline-block;
  white-space: nowrap;
  word-wrap: normal;
  direction: ltr;
  -webkit-font-feature-settings: 'liga';
  -webkit-font-smoothing: antialiased;
}
```

## ğŸ“Š ç”¨æˆ·äº¤äº’æµç¨‹

### 1. ç¼–è¾‘æ®µè½
```
ç”¨æˆ·ç‚¹å‡»æ®µè½ 
  â†’ æ®µè½è·å¾—ç„¦ç‚¹ï¼ˆè“è‰²è¾¹æ¡†é«˜äº®ï¼‰
  â†’ ç”¨æˆ·ç¼–è¾‘å†…å®¹
  â†’ ç”¨æˆ·ç‚¹å‡»å…¶ä»–åœ°æ–¹ï¼ˆblurï¼‰
  â†’ ä¿å­˜å†…å®¹
  â†’ è§¦å‘ LLM å»ºè®®è¯·æ±‚
  â†’ æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
  â†’ æ”¶åˆ°å»ºè®®
  â†’ åœ¨å³ä¾§é¢æ¿æ˜¾ç¤ºå»ºè®®å¡ç‰‡
```

### 2. åº”ç”¨å»ºè®®
```
ç”¨æˆ·æŸ¥çœ‹å»ºè®®å¡ç‰‡
  â†’ ç‚¹å‡»"åº”ç”¨å»ºè®®"æŒ‰é’®
  â†’ å»ºè®®å†…å®¹åº”ç”¨åˆ°æ®µè½
  â†’ æ˜¾ç¤ºæˆåŠŸæç¤º
  â†’ æ—¥å¿—è®°å½•æ“ä½œ
```

### 3. æ·»åŠ æ®µè½
```
ç”¨æˆ·ç‚¹å‡»"æ·»åŠ æ®µè½"æŒ‰é’®
  â†’ åˆ›å»ºæ–°æ®µè½å¯¹è±¡
  â†’ æ·»åŠ åˆ°æ®µè½æ•°ç»„
  â†’ æ–°æ®µè½è‡ªåŠ¨è·å¾—ç„¦ç‚¹
  â†’ ç”¨æˆ·å¼€å§‹ç¼–è¾‘
```

### 4. åˆ é™¤æ®µè½
```
ç”¨æˆ·æ‚¬åœåœ¨æ®µè½ä¸Š
  â†’ æ˜¾ç¤ºåˆ é™¤æŒ‰é’®
  â†’ ç”¨æˆ·ç‚¹å‡»åˆ é™¤æŒ‰é’®
  â†’ ä»æ®µè½æ•°ç»„ä¸­ç§»é™¤
  â†’ å¦‚æœæ˜¯æ¿€æ´»æ®µè½ï¼Œæ¸…é™¤æ¿€æ´»çŠ¶æ€
  â†’ æ—¥å¿—è®°å½•æ“ä½œ
```

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### 1. ContentEditable å¤„ç†
- ä½¿ç”¨ `dangerouslySetInnerHTML` åˆå§‹åŒ–å†…å®¹
- ä½¿ç”¨ `ref` è·å–å®æ—¶å†…å®¹
- `suppressContentEditableWarning` é¿å… React è­¦å‘Š
- `onInput` ç›‘å¬å†…å®¹å˜åŒ–
- `onBlur` è§¦å‘ä¿å­˜å’Œå»ºè®®è¯·æ±‚

### 2. å¼•ç”¨æ ‡è®°ç‚¹å‡»å¤„ç†
- ä½¿ç”¨äº‹ä»¶å§”æ‰˜å¤„ç†ç‚¹å‡»
- `closest('.citation-marker')` æŸ¥æ‰¾æ ‡è®°å…ƒç´ 
- `data-citation-id` å±æ€§å­˜å‚¨å¼•ç”¨ ID
- `preventDefault` å’Œ `stopPropagation` é¿å…å†’æ³¡

### 3. åŠ è½½çŠ¶æ€ç®¡ç†
- æ¯ä¸ªæ®µè½ç‹¬ç«‹çš„åŠ è½½çŠ¶æ€
- ç»å¯¹å®šä½çš„åŠ è½½å›¾æ ‡
- ä¸å½±å“å¸ƒå±€çš„åŠ¨ç”»æ•ˆæœ

### 4. å»ºè®®ç±»å‹æ ·å¼
- ä½¿ç”¨ switch è¯­å¥æ ¹æ®ç±»å‹è¿”å›ä¸åŒæ ·å¼
- å›¾æ ‡ã€é¢œè‰²ã€è¾¹æ¡†ç»Ÿä¸€ç®¡ç†
- æ˜“äºæ‰©å±•æ–°ç±»å‹

## ğŸ“ ç¤ºä¾‹æ•°æ®

### åˆå§‹æ®µè½
```typescript
[
  {
    id: 'p1',
    content: 'éšç€å…¨çƒé‡‘èç›‘ç®¡ç¯å¢ƒçš„æ—¥ç›Šå¤æ‚...[1]',
  },
  {
    id: 'p2',
    content: 'åœ¨è¿™ä¸€èƒŒæ™¯ä¸‹ï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°...[2]',
  },
  {
    id: 'p3',
    content: 'å±•æœ›æœªæ¥ï¼Œé‡‘èç§‘æŠ€çš„èåˆ...',
  },
]
```

### æ¨¡æ‹Ÿå»ºè®®
```typescript
[
  {
    id: 'p1-logic',
    type: 'logic',
    title: 'æ®µè½é€»è¾‘ (LOGIC)',
    description: 'è¯¥æ®µè½é‡‡ç”¨"ç°çŠ¶-æŒ‘æˆ˜-è§£å†³æ–¹æ¡ˆ"çš„è®ºè¯ç»“æ„...',
    suggestion: 'å»ºè®®åœ¨æ®µè½æœ«å°¾å¢åŠ è¿‡æ¸¡å¥...',
  },
  {
    id: 'p1-style',
    type: 'style',
    title: 'è¡¨è¾¾ä¼˜åŒ– (STYLE)',
    description: 'è¯­è¨€è¡¨è¾¾ä¸“ä¸šä½†ç•¥æ˜¾ç”Ÿç¡¬...',
    suggestion: 'å»ºè®®å°†"å·²æ— æ³•æ»¡è¶³"æ”¹ä¸º"éš¾ä»¥æœ‰æ•ˆåº”å¯¹"...',
  },
  {
    id: 'p1-content',
    type: 'content',
    title: 'å†…å®¹å»ºè®® (CONTENT)',
    description: 'å¯ä»¥è¡¥å……å…·ä½“çš„è¡Œä¸šæ•°æ®æˆ–æ¡ˆä¾‹...',
    suggestion: 'å»ºè®®æ·»åŠ å…·ä½“çš„æ•°å­—åŒ–è½¬å‹æ¡ˆä¾‹...',
  },
]
```

## ğŸš€ åç»­å¼€å‘è®¡åˆ’

### 1. Edge Function å®ç°
- åˆ›å»º `paragraph-suggestion` Edge Function
- é›†æˆ OpenAI API
- å®ç°ä¸Šä¸‹æ–‡åˆ†æ
- è¿”å›ç»“æ„åŒ–å»ºè®®

### 2. å»ºè®®åº”ç”¨é€»è¾‘
- å®ç°å»ºè®®å†…å®¹åº”ç”¨åˆ°æ®µè½
- æ”¯æŒéƒ¨åˆ†åº”ç”¨
- æ·»åŠ æ’¤é”€åŠŸèƒ½

### 3. é«˜çº§åŠŸèƒ½
- æ®µè½æ‹–æ‹½æ’åº
- ç‰ˆæœ¬å†å²
- åä½œç¼–è¾‘
- å¯¼å‡ºåŠŸèƒ½
- å¿«æ·é”®æ”¯æŒ

### 4. æ€§èƒ½ä¼˜åŒ–
- é˜²æŠ–å¤„ç†ç¼–è¾‘äº‹ä»¶
- è™šæ‹Ÿæ»šåŠ¨é•¿æ–‡æ¡£
- æ‡’åŠ è½½å»ºè®®
- ç¼“å­˜ LLM å“åº”

## âœ… éªŒè¯æ¸…å•

- [x] æ®µè½å¯ç‹¬ç«‹ç¼–è¾‘
- [x] ç¼–è¾‘åè‡ªåŠ¨è§¦å‘å»ºè®®
- [x] æ˜¾ç¤ºåŠ è½½çŠ¶æ€
- [x] å»ºè®®å¡ç‰‡æ­£ç¡®æ˜¾ç¤º
- [x] å»ºè®®ç±»å‹æ ·å¼æ­£ç¡®
- [x] å¯æ·»åŠ /åˆ é™¤æ®µè½
- [x] å¼•ç”¨æ ‡è®°å¯ç‚¹å‡»
- [x] å¼•ç”¨å¯¹è¯æ¡†æ˜¾ç¤ºå®Œæ•´ä¿¡æ¯
- [x] Material Symbols å›¾æ ‡æ­£å¸¸æ˜¾ç¤º
- [x] æ—¥å¿—ç³»ç»Ÿæ­£å¸¸å·¥ä½œ
- [x] èŠå¤©ç•Œé¢åŠŸèƒ½æ­£å¸¸
- [x] æ‰€æœ‰åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœæ­£å¸¸
- [x] å“åº”å¼å¸ƒå±€æ­£å¸¸
- [x] é€šè¿‡ Lint æ£€æŸ¥
- [x] ç±»å‹å®‰å…¨

## ğŸ“š ç›¸å…³æ–‡ä»¶

- `/src/pages/DraftGenerationPage.tsx` - ä¸»é¡µé¢ç»„ä»¶ï¼ˆå®Œå…¨é‡å†™ï¼‰
- `/src/index.css` - æ ·å¼å®šä¹‰ï¼ˆæ·»åŠ  citation-marker å’Œ material-symbols-outlinedï¼‰
- `/index.html` - HTML æ¨¡æ¿ï¼ˆæ·»åŠ  Material Symbols å­—ä½“ï¼‰
- `TODO.md` - ä»»åŠ¡æ¸…å•ï¼ˆå·²æ›´æ–°ï¼‰
- `DRAFT_PAGE_REWRITE.md` - é‡å†™æ–‡æ¡£ï¼ˆæœ¬æ–‡ä»¶ï¼‰

## ğŸ‰ æ€»ç»“

å®Œå…¨é‡å†™äº†è‰ç¨¿ç”Ÿæˆé¡µé¢ï¼Œå®ç°äº†ï¼š

âœ… **å®æ—¶ç¼–è¾‘ç³»ç»Ÿ** - æ¯ä¸ªæ®µè½ç‹¬ç«‹å¯ç¼–è¾‘ï¼Œå³æ—¶ä¿å­˜  
âœ… **LLM æ™ºèƒ½å»ºè®®** - ç¼–è¾‘åè‡ªåŠ¨ç”Ÿæˆä¸‰ç§ç±»å‹çš„å»ºè®®  
âœ… **æ®µè½ç®¡ç†** - æ·»åŠ ã€åˆ é™¤ã€ç¼–è¾‘æ®µè½  
âœ… **å»ºè®®å¡ç‰‡** - å½©è‰²æ ‡è¯†ã€å›¾æ ‡ã€åº”ç”¨/å¿½ç•¥æ“ä½œ  
âœ… **Material Symbols** - é›†æˆ Google Material å›¾æ ‡  
âœ… **å¼•ç”¨ç³»ç»Ÿ** - æ•°å­—æ ‡è®°ã€ç‚¹å‡»å¼¹çª—  
âœ… **åä½œæ•™ç»ƒ** - æ¡ä»¶æ˜¾ç¤ºã€åŠ è½½çŠ¶æ€ã€ç©ºçŠ¶æ€  
âœ… **æ—¥å¿—ç³»ç»Ÿ** - å¯å±•å¼€ã€æ—¶é—´æˆ³ã€ç±»å‹æ ‡è¯†  
âœ… **èŠå¤©ç•Œé¢** - AI å¯¹è¯ã€å¿«æ·æŒ‰é’®  
âœ… **è§†è§‰åé¦ˆ** - é«˜äº®ã€æ‚¬åœã€è¿‡æ¸¡åŠ¨ç”»  

æ‰€æœ‰åŠŸèƒ½å·²å®ç°å¹¶é€šè¿‡ Lint æ£€æŸ¥ï¼Œç­‰å¾…åç«¯ API é›†æˆå³å¯å®ç°å®Œæ•´çš„ LLM å»ºè®®åŠŸèƒ½ã€‚

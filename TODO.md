# Task: 重新设计资料查询页面布局

## Plan
- [x] Step 1: 分析现有代码结构和数据流
  - [x] 查看 KnowledgeStage 组件结构
  - [x] 理解 retrievalResults 数据结构
  - [x] 确定需要的类型定义
- [x] Step 2: 创建新的组件结构
  - [x] 创建 SearchPlanPanel 组件（左侧搜索计划面板）
  - [x] 创建 SearchResultsPanel 组件（右侧搜索结果面板）
  - [x] 创建 ResultDetailDialog 组件（结果详情弹窗）
- [x] Step 3: 重构 KnowledgeStage 组件
  - [x] 添加标题栏（包含上次搜索时间和刷新按钮）
  - [x] 实现两栏布局（搜索计划 + 搜索结果）
  - [x] 集成新创建的子组件
- [x] Step 4: 实现搜索计划面板功能
  - [x] 解析 search_summary 中的 interpreted_topic 和 key_dimensions
  - [x] 显示各数据源的具体查询内容
- [x] Step 5: 实现搜索结果面板功能
  - [x] 添加数据源筛选 tabs（全部/学术/资讯/网页/资料库）
  - [x] 添加搜索框和时间筛选
  - [x] 实现批量选择、收藏、删除功能
  - [x] 优化结果展示（移除右侧小标签，点击标题或内容打开弹窗）
- [x] Step 6: 运行 lint 检查并修复问题

## 完成情况
✅ 所有任务已完成！

## 实现的功能
1. **标题栏**：显示"资料查询"标题，右侧显示上次搜索时间和刷新按钮
2. **搜索计划面板**（左侧）：
   - 解析并显示 LLM 输出的 search_summary
   - 显示理解的主题和关键维度
   - 按数据源分类显示具体查询内容（学术调研、行业资讯、网页内容、资料库）
3. **搜索结果面板**（右侧）：
   - 数据源筛选 tabs（全部/学术/资讯/网页/资料库）
   - 搜索框支持在当前数据源中额外搜索
   - 时间窗口筛选（全部时间/今天/最近一周/最近一月/最近一年）
   - 批量选择功能（全选/单选）
   - 批量收藏和删除操作
   - 点击结果卡片打开详情弹窗
4. **详情弹窗**：
   - 显示完整的资料内容
   - 支持收藏和打开原文链接
   - 显示关键词和提取的内容片段
